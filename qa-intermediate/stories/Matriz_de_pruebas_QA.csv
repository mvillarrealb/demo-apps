ID,API Operation,Method,Endpoint,Title,Input / Query Params,Preconditions,Expected Status,Key Assertions,Notes
TC-001,createCategory,POST,/api/categories,Crear categoría exitosa,"{""name"":""Alimentación"",""colorHex"":""#FF5722""}",No existe categoría con name=Alimentación,201,body.id != null; body.name='Alimentación'; body.colorHex='#FF5722'; body.createdAt formato date-time,Nombre único obligatorio
TC-002,createCategory,POST,/api/categories,Nombre de categoría duplicado,"{""name"":""Alimentación"",""colorHex"":""#FF5722""}",Existe previamente categoría 'Alimentación',400,ErrorResponse.message contiene 'Ya existe una categoría'; status=400,Validación de unicidad
TC-003,getCategories,GET,"/api/categories?page=0&size=20&sort=name,ASC",Listar categorías (paginación y sort por defecto),"page=0,size=20,sort=name,ASC",Existen >=2 categorías,200,body.pageable.pageNumber=0; sort.sorted=true; sort.ascending=true; content es array,Validar patrón sort permitido: name|createdAt
TC-004,getCategoryById,GET,/api/categories/{id},Categoria no encontrada,id=999,No existe categoría con id=999,400,ErrorResponse.status=400; message indica 'Categoría no encontrada',Spec define 400 para ID inválido/no encontrado
TC-005,createTransaction,POST,/api/transactions,Crear transacción DEBIT exitosa,"{""accountId"":""ACC001"",""postedAt"":""2025-09-15T12:30:00Z"",""amount"":156.75,""type"":""DEBIT"",""currency"":""PEN"",""description"":""Compras en supermercado"",""categoryId"":1}",Existe categoría id=1,201,body.id != null; amount=156.75; type='DEBIT'; currency='PEN'; category.id=1; createdAt formato date-time,Monto > 0; currency ISO-4217 3 letras
TC-006,createTransaction,POST,/api/transactions,Validación: monto inválido,"{""accountId"":""ACC001"",""postedAt"":""2025-09-15T12:30:00Z"",""amount"":0,""type"":""DEBIT"",""currency"":""PEN"",""description"":""Prueba inválida""}",N/A,400,ErrorResponse.status=400; details.amount presente o message de validación,amount >= 0.01 según esquema
TC-007,getTransactions,GET,"/api/transactions?categoryId=1&type=DEBIT&fromDate=2025-09-01&toDate=2025-09-30&q=supermercado&sort=postedAt,DESC&page=0&size=5",Listar transacciones con filtros y ordenamiento,"categoryId=1,type=DEBIT,fromDate=2025-09-01,toDate=2025-09-30,q=supermercado,sort=postedAt,DESC,page=0,size=5",Existen transacciones DEBIT categoría 1 en el rango,200,"Todos los items type=DEBIT y categoryId=1; postedAt∈[2025-09-01,2025-09-30]; ordenadas por postedAt DESC; length<=5",Validar patrón sort permitido
TC-008,getTransactionsGroupedBy,GET,/api/transactions/groupedBy?series=category&fromDate=2025-09-01&toDate=2025-09-30,Agregación por categoría (neto mensual),"series=category,fromDate=2025-09-01,toDate=2025-09-30",Existen transacciones en el rango,200,"Respuesta array; cada item: key (string), totalAmount (num, neto CREDIT+, DEBIT-), count>=0, currency='PEN'",Si no hay datos ⇒ []
